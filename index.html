<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Accordion</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div class="accordion"></div>

    <script type="text/javascript" src="js/zepto.js"></script>
    <script type="text/javascript" src="js/underscore.js"></script>
    <script type="text/javascript" src="main.js"></script>
    <script type="text/javascript">
      window.onload = function () {
        var numLists = Math.floor(Math.random() * 5) + 3, // 3-7 lists
            $accordion = $('.accordion');

        for (var list = 0; list < numLists; list++) {
          var numRows = Math.floor(Math.random() * 7) + 1, // 1-7 list items
              $list = $('<ul>'),
              $header = $('<header>').text('List ' + list);
              $accordion.append($header).append($list);
          for (var row = 0; row < numRows; row++) {
            var $listItem = $('<li>').text('list item ' + row);
            $list.append($listItem);
          }
        }
        $(window).on('resize', allocateHeights);
        allocateHeights();
      }
    </script>
  </body>
</html>